<nb-card style="width:500px;">
    <nb-card-header>
        {{this.l("Pages.Users.ManageUser")}}
        <div class=" float-right">
            <a class="btn btn-icon" (click)="cancel()"><nb-icon [icon]="'close'" pack="eva"></nb-icon></a>
        </div>
    </nb-card-header>
    <nb-card-body>
        <form [formGroup]="userForm">
            <div class="row">
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="Name" class="label">{{this.l("FirstName")}}</label>
                        <input type="text" nbInput fullWidth #name placeholder='{{this.l("FirstName")}}' [value]="selectedObj.name" [formControl]="userForm.controls['name']" [status]="!(userForm.controls.name?.dirty && userForm.controls.name?.invalid) ? '' : 'danger'" (change)="selectedObj.name = $event.target.value" required />
                        <small *ngIf="userForm.controls.name.touched && userForm.controls.name.errors?.required" class=" text-danger">
                            {{l('Common.Error.Required')}}
                        </small>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="SurName" class="label">{{this.l("LastName")}}</label>
                        <input type="text" nbInput fullWidth #surName placeholder='{{this.l("LastName")}}' [value]="selectedObj.surname" [formControl]="userForm.controls['surName']" [status]="!(userForm.controls.surName?.dirty && userForm.controls.surName?.invalid) ? '' : 'danger'" (change)="selectedObj.surname = $event.target.value" required />
                        <small *ngIf="userForm.controls.surName.touched && userForm.controls.surName.errors?.required" class=" text-danger">
                            {{l('Common.Error.Required')}}
                        </small>
                    </div>
                </div>
            </div>
            <div class="row">
                <!--<div class="col-xl-6">
        <div class="form-group">
            <label for="FullName" class="label">{{this.l("FullName")}}</label>
            <input type="text" nbInput fullWidth #fullName placeholder='{{this.l("FullName")}}' [value]="selectedObj.fullName" [formControl]="userForm.controls['fullName']" [status]="!(userForm.controls.fullName?.dirty && userForm.controls.fullName?.invalid) ? '' : 'danger'" (change)="selectedObj.fullName = $event.target.value" required />
            <small *ngIf="userForm.controls.fullName.touched && userForm.controls.fullName.errors?.required" class=" text-danger">
                {{l('Common.Error.Required')}}
            </small>
        </div>
    </div>-->
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="EmailAddress" class="label">{{this.l("Common.EmailAddress")}}</label>
                        <input type="text" nbInput fullWidth #emailAddress placeholder='{{this.l("Common.EmailAddress")}}' [value]="selectedObj.emailAddress" [formControl]="userForm.controls['emailAddress']" [status]="!(userForm.controls.emailAddress?.dirty && userForm.controls.emailAddress?.invalid) ? '' : 'danger'" (change)="selectedObj.emailAddress = $event.target.value" required />
                        <small *ngIf="userForm.controls.emailAddress.touched && userForm.controls.emailAddress.errors?.required" class=" text-danger">
                            {{l('Common.Error.Required')}}
                        </small>
                        <small *ngIf="userForm.controls.emailAddress.touched && userForm.controls.emailAddress.errors?.pattern" class=" text-danger">
                            {{l('Common.Error.InvalidEmail')}}
                        </small>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="PhoneNumber" class="label">{{this.l("Common.PhoneNumber")}}</label>
                        <input type="text" nbInput fullWidth #phoneNumber placeholder='{{this.l("Common.PhoneNumber")}}' [value]="selectedObj.phoneNumber" [formControl]="userForm.controls['phoneNumber']" [status]="!(userForm.controls.phoneNumber?.dirty && userForm.controls.phoneNumber?.invalid) ? '' : 'danger'" (change)="selectedObj.phoneNumber = $event.target.value" required />
                        <small *ngIf="userForm.controls.phoneNumber.touched && userForm.controls.phoneNumber.errors?.required" class=" text-danger">
                            {{l('Common.Error.Required')}}
                        </small>
                        <small *ngIf="userForm.controls.phoneNumber.touched && userForm.controls.phoneNumber.errors?.pattern" class=" text-danger">
                            {{l('Common.Error.InvalidPhoneNumber')}}
                        </small>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="UserName" class="label">{{this.l("UserName")}}</label>
                        <input type="text" nbInput fullWidth #userName placeholder='{{this.l("UserName")}}' [value]="selectedObj.userName" [formControl]="userForm.controls['userName']" [status]="!(userForm.controls.userName?.dirty && userForm.controls.userName?.invalid) ? '' : 'danger'" (change)="selectedObj.userName = $event.target.value" required />
                        <small *ngIf="userForm.controls.userName.touched && userForm.controls.userName.errors?.required" class=" text-danger">
                            {{l('Common.Error.Required')}}
                        </small>
                        <small *ngIf="userForm.controls.userName.touched && userForm.controls.userName.errors?.pattern" class=" text-danger">
                            {{l('Common.Error.InvalidUserName')}}
                        </small>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="form-group">
                        <label for="isActive" class="label">{{l("Common.IsActive")}}</label>
                        <label class="d-block mb-0 ac-ch">
                            <input type="checkbox" class="group-checkable checkbox_animated" [formControl]="userForm.controls['isActive']" [checked]="selectedObj.isActive" (change)="selectedObj.isActive = $event.target.checked" />
                        </label>
                    </div>
                </div>
            </div>
            <div class="row"  *ngIf="selectedObj?.id == undefined || selectedObj?.id == 0">
                <div class="col-xl-6" >
                    <div class="form-group ">
                        <label for="password" class="label">{{l("Common.Password")}}</label>
                        <input type="password" nbInput fullWidth placeholder='{{this.l("Common.Password")}}' [formControl]="userForm.controls['password']" [status]="!(userForm.controls.password?.dirty && userForm.controls.password?.invalid) ? '' : 'danger'" [value]="selectedObj.password" (change)="selectedObj.password = $event.target.value" />
                        <div *ngIf="userForm.controls.password.touched && userForm.controls.password.errors?.required" class="text text-danger">
                            {{l('Common.Error.Required')}}
                        </div>
                    </div>
                </div>
            </div>

            <button class="cancel" nbButton status="danger" (click)="cancel()">{{this.l("Common.Cancel") }}</button>
            <button nbButton status="success" [disabled]="userForm.invalid" (click)="submit()">{{this.l("Common.Save") }}</button>
        </form>
    </nb-card-body>
</nb-card>